import{usePageData as j,useRouteLocale as U,useSiteLocaleData as H,defineClientConfig as P}from"vuepress/client";import{startsWith as R,useLocaleConfig as g,checkIsMacOS as F,checkIsIOS as W,checkIsiPad as Y}from"@vuepress/helper/client";import{useSupported as q,useEventListener as A,useDebounceFn as B,useScrollLock as V,onClickOutside as $}from"@vueuse/core";import{ref as p,provide as z,computed as y,watch as k,onMounted as C,onUnmounted as T,defineComponent as b,inject as _,h as l,shallowRef as D,nextTick as Q,defineAsyncComponent as X}from"vue";import{h as L,e as x,u as I,c as G,l as f,o as K,i as J}from"./index-DxZB4SCH.js";import{c as O,C as Z,S as ee}from"./icons-DxmX1gti.js";import"./styles/search-box.css";import"./styles/search-modal.css";const w=Symbol(__VUEPRESS_DEV__?"search-pro":""),ae=()=>{const e=p(!1);z(w,e)},le=(e,o=!1)=>{const s=p(0),u=y(()=>e.value[s.value]),a=()=>{s.value=s.value>0?s.value-1:e.value.length-1},i=()=>{s.value=s.value<e.value.length-1?s.value+1:0};return k(e,()=>{o||(s.value=0)}),{index:s,item:u,prev:a,next:i}},te=()=>{const e=q(()=>typeof window<"u"&&"userAgent"in window.navigator);return y(()=>e.value&&/\b(?:Android|iPhone)/i.test(navigator.userAgent))},se=e=>e instanceof Element?document.activeElement===e&&(["TEXTAREA","SELECT","INPUT"].includes(e.tagName)||e.hasAttribute("contenteditable")):!1,oe=e=>L.some(o=>{const{key:s,ctrl:u=!1,shift:a=!1,alt:i=!1,meta:v=!1}=o;return s===e.key&&u===e.ctrlKey&&a===e.shiftKey&&i===e.altKey&&v===e.metaKey}),ne=e=>{const o=p([]);if(x){const s=I(),u=j(),a=U();C(()=>{const{suggest:i,terminate:v}=G(),h=r=>{const{resultsFilter:E,querySplitter:M,suggestionsFilter:m=n=>n,...d}=s.value;r?i(r,a.value,d).then(n=>m(n,r,a.value,u.value)).then(n=>{o.value=n.length?R(n[0],r)&&!n[0].slice(r.length).includes(" ")?n:[r,...n]:[]}).catch(n=>{console.error(n)}):o.value=[]};k([e,a],([r])=>{h(r.join(" "))},{immediate:!0}),T(()=>{v()})})}return{suggestions:o}},re='<svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg>',ie='<svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg>',ue='<svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg>',ce='<svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg>',S=L[0];var ve=b({name:"SearchBox",setup(){const e=g(f),o=_(w),s=p(!1),u=y(()=>S?[...(s.value?["⌃","⇧","⌥","⌘"]:["Ctrl","Shift","Alt","Win"]).filter((a,i)=>S[["ctrl","shift","alt","meta"][i]]),S.key.toUpperCase()]:null);return A("keydown",a=>{!o.value&&oe(a)&&!se(a.target)&&(a.preventDefault(),o.value=!0)}),C(()=>{const{userAgent:a}=navigator;s.value=F(a)||W(a)||Y(a)}),()=>[l("button",{type:"button",class:"slimsearch-button","aria-label":e.value.search,onClick:()=>{o.value=!0}},[l(O),l("div",{class:"slimsearch-placeholder"},e.value.search),u.value?l("div",{class:"slimsearch-key-hints"},u.value.map(a=>l("kbd",{class:"slimsearch-key"},a))):null])]}}),he=b({name:"SearchKeyHints",setup(){const e=g(f),o=te();return()=>o.value?null:l("div",{class:"slimsearch-hints"},[l("span",{class:"slimsearch-hint"},[l("kbd",{innerHTML:re}),e.value.select]),l("span",{class:"slimsearch-hint"},[l("kbd",{innerHTML:ue}),l("kbd",{innerHTML:ie}),e.value.navigate]),l("span",{class:"slimsearch-hint"},[l("kbd",{innerHTML:ce}),e.value.exit])])}});const pe=X({loader:()=>import("./components/SearchResult.js"),loadingComponent:()=>{const e=g(f);return l(ee,{class:"slimsearch-result-wrapper",hint:e.value.loading})}});var me=b({name:"SearchModal",setup(){const e=_(w),o=H(),s=g(f),u=I(),a=p(""),i=p([]),{suggestions:v}=ne(i),h=p(!1),{index:r,prev:E,next:M}=le(v),m=D(),d=D(),n=(t=r.value)=>{a.value=v.value[t],h.value=!1};A("keydown",t=>{h.value?t.key==="ArrowUp"?E():t.key==="ArrowDown"?M():t.key==="Enter"?n():t.key==="Escape"&&(h.value=!1):t.key==="Escape"&&(e.value=!1)});const N=B(()=>{(u.value.querySplitter?.(a.value)??Promise.resolve(a.value.split(" "))).then(t=>{i.value=t})},Math.min(K.searchDelay,K.suggestDelay));return k(a,N,{immediate:!0}),C(()=>{const t=V(document.body);k(e,async c=>{t.value=c,c&&(await Q(),m.value?.focus())}),$(d,()=>{h.value=!1}),T(()=>{t.value=!1})}),()=>e.value?l("div",{class:"slimsearch-modal-wrapper"},[l("div",{class:"slimsearch-mask",onClick:()=>{e.value=!1,a.value=""}}),l("div",{class:"slimsearch-modal"},[l("div",{class:"slimsearch-box"},[l("form",[l("label",{for:"search-pro","aria-label":s.value.search},l(O)),l("input",{ref:m,type:"search",class:"slimsearch-input",id:"search-pro",placeholder:s.value.placeholder,spellcheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off",name:`${o.value.title}-search`,value:a.value,"aria-controls":"slimsearch-results",onKeydown:t=>{const{key:c}=t;v.value.length&&(c==="Tab"?(n(),t.preventDefault()):(c==="ArrowDown"||c==="ArrowUp"||c==="Escape")&&t.preventDefault())},onInput:({target:t})=>{a.value=t.value,h.value=!0,r.value=0}}),a.value?l("button",{type:"reset",class:"slimsearch-clear-button",innerHTML:Z,onClick:()=>{a.value=""}}):null,x&&h.value&&v.value.length?l("ul",{class:"slimsearch-suggestions",ref:d},v.value.map((t,c)=>l("li",{class:["slimsearch-suggestion",{active:c===r.value}],onClick:()=>{n(c)}},[l("kbd",{class:"slimsearch-auto-complete",title:`Tab ${s.value.autocomplete}`},"Tab"),t]))):null]),l("button",{type:"button",class:"slimsearch-close-button",onClick:()=>{e.value=!1,a.value=""}},s.value.cancel)]),l(pe,{queries:i.value,isFocusing:!h.value,onClose:()=>{e.value=!1},onUpdateQuery:t=>{a.value=t}}),l(he)])]):null}}),de=P({enhance({app:e}){J(e),e.component("SearchBox",ve)},setup(){ae()},rootComponents:[me]});export{de as default};
//# sourceMappingURL=config.js.map
