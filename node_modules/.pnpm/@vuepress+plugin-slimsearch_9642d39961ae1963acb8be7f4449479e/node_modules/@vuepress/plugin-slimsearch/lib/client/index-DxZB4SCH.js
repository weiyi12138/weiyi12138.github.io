import{values as u}from"@vuepress/helper/client";import{inject as E,computed as d}from"vue";import{useRouteLocale as g}from"vuepress/client";const m=__SLIMSEARCH_CUSTOM_FIELDS__,p=__SLIMSEARCH_AUTO_SUGGESTIONS__,l=__SLIMSEARCH_OPTIONS__,h=l.hotKeys,w=__SLIMSEARCH_LOCALES__,_="Canceled because of new search request.",C=()=>{const r=new Worker(__VUEPRESS_DEV__?new URL("./worker/index.js",import.meta.url):`${__VUEPRESS_BASE__}${l.worker}`,__VUEPRESS_DEV__?{type:"module"}:{}),s={suggest:null,search:null,all:null};return r.addEventListener("message",({data:e})=>{const[a,n,c]=e,o=s[a];o?.id===n&&o.resolve(c)}),r.addEventListener("error",e=>{console.warn("Search Worker error:",e)}),{suggest:(e,a,n)=>new Promise((c,o)=>{s.suggest?.reject(new Error(_));const t=Date.now();r.postMessage({type:"suggest",id:t,query:e,locale:a,options:n}),s.suggest={id:t,resolve:c,reject:o}}),search:(e,a,n)=>new Promise((c,o)=>{s.search?.reject(new Error(_));const t=Date.now();r.postMessage({type:"search",id:t,query:e,locale:a,options:n}),s.search={id:t,resolve:c,reject:o}}),all:(e,a,n)=>new Promise((c,o)=>{s.all?.reject(new Error(_));const t=Date.now();r.postMessage({type:"all",id:t,query:e,locale:a,options:n}),s.all={id:t,resolve:c,reject:o}}),terminate:()=>{r.terminate(),u(s).forEach(e=>{e?.reject(new Error("Worker has been terminated."))})}}};let i={};const S=Symbol(__VUEPRESS_DEV__?"slimsearch":""),L=r=>{i=r},f=()=>{const r=g(),{locales:s={},...e}=E(S);return d(()=>({...e,...s[r.value]}))},j=r=>{r.provide(S,i)};export{m as a,C as c,L as d,p as e,h,j as i,w as l,l as o,f as u};
//# sourceMappingURL=index-DxZB4SCH.js.map
